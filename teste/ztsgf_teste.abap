*&---------------------------------------------------------------------*
*& Report  ZTSGF_TESTE
*&
*&---------------------------------------------------------------------*
*&
*&
*&---------------------------------------------------------------------*

REPORT  ztsgf_teste.

*DATA: w_zintsstt0062 TYPE zintsstt0062.

TYPES: BEGIN OF y_teste,
  matnr TYPE ztbtsgf_teste1-matnr,
  mtart TYPE ztbtsgf_teste2-mtart,
END OF y_teste,

y_t_teste TYPE SORTED TABLE OF y_teste WITH NON-UNIQUE KEY matnr.

DATA: t_teste TYPE y_t_teste.

DATA: w_teste1 TYPE ztbtsgf_teste1.
DATA: w_teste2 TYPE ztbtsgf_teste2.

w_teste1-matnr = '1234'.
MODIFY ztbtsgf_teste1 FROM w_teste1.

w_teste2-matnr = '1234'.
w_teste2-mtart = 'EI'.
MODIFY ztbtsgf_teste2 FROM w_teste2.

w_teste2-matnr = '1234'.
w_teste2-mtart = 'IE'.
MODIFY ztbtsgf_teste2 FROM w_teste2.

COMMIT WORK AND WAIT.

FIELD-SYMBOLS: <fs_teste> LIKE LINE OF t_teste.

SELECT a~matnr b~mtart
  FROM ztbtsgf_teste1 AS a
  INNER JOIN ztbtsgf_teste2 AS b ON b~matnr EQ a~matnr
  INTO TABLE t_teste
  WHERE a~matnr EQ '1234'.

LOOP AT t_teste ASSIGNING <fs_teste>.
  WRITE: <fs_teste>-matnr, <fs_teste>-mtart, /.
ENDLOOP.

*data: teste type char4 value '@3D@'.
*WRITE teste.

*SELECTION-SCREEN BEGIN OF BLOCK b1.
*PARAMETERS p_teste TYPE mara-matnr.
*SELECTION-SCREEN END OF BLOCK b1.
*
*SELECTION-SCREEN BEGIN OF TABBED BLOCK tabstrip FOR 24 LINES.
*SELECTION-SCREEN TAB (1) text-s10 USER-COMMAND 'STRD' DEFAULT SCREEN
*9000.
*SELECTION-SCREEN TAB (30) text-s11 USER-COMMAND 'EXTD' DEFAULT SCREEN
*9100.
*SELECTION-SCREEN END OF BLOCK tabstrip.
*
*SELECTION-SCREEN BEGIN OF SCREEN 9000 AS SUBSCREEN.
*
*PARAMETERS: p_teste1 TYPE mara-mtart.
*
*SELECTION-SCREEN END OF SCREEN 9000.
*
** Extended selection criteria
*SELECTION-SCREEN BEGIN OF SCREEN 9100 AS SUBSCREEN.
*
*PARAMETERS: p_teste2 TYPE j_1bnfdoc-docnum.
*
*SELECTION-SCREEN END OF SCREEN 9100.

*DATA: lt_range TYPE RANGE OF lagp-lgtyp.
*
*DATA: lw_t334t  TYPE          t334t,
*      lt_t334t  TYPE TABLE OF t334t.
*DATA: w_lgtyp   TYPE lagp-lgtyp.
*
*FIELD-SYMBOLS: <fs_teste> TYPE ANY.
*
*REFRESH lt_t334t. CLEAR lw_t334t.
*SELECT * FROM t334t INTO TABLE lt_t334t.    "TAB. T3334T é uma tabela bufferizada no BDD
* WHERE lgnum = '210'
*   AND kzear = 'A'
*   AND lgtkz = gw_mlgn-ltkza
*   AND bwref = '601' .
*IF sy-subrc EQ 0.
*  CLEAR w_lgtyp.
*  LOOP AT lt_t334t INTO lw_t334t.
*
*    DO.
*      ASSIGN COMPONENT sy-index OF STRUCTURE lw_t334t TO <fs_teste>.
*      IF sy-subrc IS NOT INITIAL. EXIT. ENDIF.
*    ENDDO.

*    DO 30 TIMES VARYING w_lgtyp FROM lw_t334t-lgty0 NEXT lw_t334t-lgty1.
*      CHECK w_lgtyp IN lt_range.
**      it_pl01x-lgtyp = w_lgtyp.
*      EXIT.
*    ENDDO.
*  ENDLOOP.

*ENDIF.

*MESSAGE s000(oo) WITH 'TESTE' DISPLAY LIKE 'X'.

*CLASS lcl_teste DEFINITION.
*
*  PUBLIC SECTION.
*
*    CLASS-DATA: v_teste type string.
*
*    METHODS: m_escreve_na_tela.
**             m_coloca_valor.
*
*ENDCLASS.                    "lcl_teste DEFINITION
*
*DATA: c_teste1 TYPE REF TO lcl_teste,
*      c_teste2 TYPE REF TO lcl_teste.
*
*CREATE OBJECT c_teste1.
*CREATE OBJECT c_teste2.
*
**c_teste1->v_teste = 'teste1'.
*c_teste1->m_escreve_na_tela( ).
*c_teste2->m_escreve_na_tela( ).
*
**----------------------------------------------------------------------*
**       CLASS lcl_teste IMPLEMENTATION
**----------------------------------------------------------------------*
**
**----------------------------------------------------------------------*
*CLASS lcl_teste IMPLEMENTATION.
*
*  METHOD m_escreve_na_tela.
*
*    WRITE me->v_teste.
**write v_teste.
*
*  ENDMETHOD.                    "m_escreve_na_tela
*
**  METHOD m_coloca_valor.
**
**    me->v_teste = 'teste'.
**
**  ENDMETHOD.                    "m_coloca_valor
*
*ENDCLASS.                    "lcl_teste IMPLEMENTATION




*SELECTION-SCREEN BEGIN OF BLOCK b1.
*PARAMETERS p_matnr TYPE ztbca_ret_10-matnr.
*SELECTION-SCREEN END OF BLOCK b1.
*
*data: w_mara type ztbca_ret_10.
*
*select *
*  up to 1 rows
*  from ZTBCA_RET_10
*  into w_mara
*  where matnr eq p_matnr.
*ENDSELECT.
*
*
*
*  write w_mara-matnr.
*
*
*set PARAMETER ID 'MAT'  FIELD p_matnr.
*call transaction 'MM03' AND SKIP FIRST SCREEN.
*
*
*
*DATA: w_teste TYPE c LENGTH 50.
*
*WRITE text-001 TO w_teste.
*
*REPLACE FIRST OCCURRENCE OF '&' IN w_teste WITH w_mara-matnr.
*
*WRITE w_teste.
**
**
*
*PARAMETERS: p_num TYPE n.
*DATA v_result TYPE n.
*v_result = p_num MOD 2.
*
*IF v_result EQ 0.
*  WRITE 'PAR'.
*ELSE.
*  WRITE 'IMPAR'.
*ENDIF.

*data: lt_teste TYPE STANDARD TABLE OF sval,
*      lw_teste TYPE sval.
*
*lw_teste-tabname = 'COBL'.
*  lw_teste-fieldname = 'KOSTL'.
*  APPEND lw_teste to lt_teste.
*
**while lw_teste-value is initial.
*CALL FUNCTION 'POPUP_GET_VALUES'
*        EXPORTING
**         NO_VALUE_CHECK        = ' '
*          popup_title           = 'Informe o Centro de custo da operação'
**         START_COLUMN          = '5'
**         START_ROW             = '5'
**       IMPORTING
**         RETURNCODE            =
*        tables
*          fields                = lt_teste
*       EXCEPTIONS
*         ERROR_IN_FIELDS        = 1
*         OTHERS                 = 2.
*
*READ table lt_teste into lw_teste INDEX 1.
*IF sy-subrc <> 0.
** MESSAGE ID SY-MSGID TYPE SY-MSGTY NUMBER SY-MSGNO
**         WITH SY-MSGV1 SY-MSGV2 SY-MSGV3 SY-MSGV4.
*ENDIF.
**ENDWHILE.
*
*data teste2 TYPE kostl.
*data teste3 TYPE kostl.
*
*teste2 = teste3 = lw_teste-value.
*
*DATA teste TYPE i VALUE 4.
*
*teste = teste ** 2.

*WRITE teste.
*write sy-sysid.
*PARAMETERS: p_matnr TYPE mara-matnr.

*TYPES: BEGIN OF y_mara,
*  matnr TYPE mara-matnr,
*  mtart TYPE mara-mtart,
*  matkl TYPE mara-matkl,
*  maktx TYPE makt-maktx,
*END OF y_mara,
*BEGIN OF y_makt,
*  matnr TYPE makt-matnr,
*  spras TYPE makt-spras,
*  maktx TYPE makt-maktx,
*END OF y_makt,
*yt_mara TYPE SORTED TABLE OF y_mara WITH UNIQUE KEY matnr,
*yt_makt TYPE standard TABLE OF y_makt. "WITH UNIQUE KEY matnr spras.
*
*DATA: t_mara TYPE yt_mara,
*      t_makt TYPE yt_makt,
*      w_mara LIKE LINE OF t_mara,
*      w_makt LIKE LINE OF t_makt.
*FIELD-SYMBOLS: <fs_mara> LIKE LINE OF t_mara,
*               <fs_makt> LIKE LINE OF t_makt.
*PERFORM zf_read_mara.
**PERFORM zf_read_makt.
*
*DO 2 TIMES.
*  APPEND INITIAL LINE TO t_makt ASSIGNING <fs_makt>.
*  <fs_makt>-matnr = '000000000010000000'.
*  <fs_makt>-spras = 'PT'.
*  <fs_makt>-maktx = 'aaaaaaaaaaaaaaa'.
*ENDDO.
*
*SELECT matnr mtart matkl
*  FROM mara
*  INTO TABLE t_mara
*  FOR ALL ENTRIES IN t_makt
*  WHERE matnr EQ t_makt-matnr.
*
*WRITE 'aaaaaaaaaaaaaaaaaaaaaa'.
*write sy-abcde+23(1).

*SELECT COUNT(*)
*  FROM mara.
*
*WRITE sy-dbcnt.

*DATA teste VALUE '123'.
*DATA teste2 VALUE '234'.
*ASSERT teste = teste2.

*LOOP AT t_mara INTO w_mara.
*  CLEAR w_makt.
*  READ TABLE t_makt INTO w_makt WITH KEY matnr = w_mara-matnr.
*  IF sy-subrc IS INITIAL.
*    w_mara-maktx = w_makt-maktx.
*    MODIFY t_mara FROM w_mara.
*  ENDIF.
*ENDLOOP.

*LOOP AT t_mara ASSIGNING <fs_mara>.
*  READ TABLE t_makt ASSIGNING <fs_makt> WITH KEY matnr = <fs_mara>-matnr.
*  IF sy-subrc IS INITIAL.
*    <fs_mara>-maktx = <fs_makt>-maktx.
*  ENDIF.
*ENDLOOP.

*LOOP AT t_mara ASSIGNING <fs_mara>.
*  READ TABLE t_makt ASSIGNING <fs_makt> WITH KEY matnr = <fs_mara>-matnr spras = sy-langu.
*  IF sy-subrc IS INITIAL.
*    <fs_mara>-maktx = <fs_makt>-maktx.
*  ENDIF.
*ENDLOOP.

*LOOP AT t_mara INTO w_mara.
*  WRITE: w_mara-matnr, /, w_mara-mtart, /, w_mara-matkl, /, w_mara-maktx, /, /.
*ENDLOOP.
*
*LOOP AT t_mara INTO w_mara.
*  READ TABLE t_makt INTO w_makt WITH KEY matnr = w_mara-matnr.
*  WRITE: w_mara-matnr, /, w_mara-mtart, /, w_mara-matkl, /, w_makt-maktx, /, /.
*ENDLOOP.

**&---------------------------------------------------------------------*
**&      Form  zf_read_mara
**&---------------------------------------------------------------------*
**       text
**----------------------------------------------------------------------*
*FORM zf_read_mara.
*  SELECT matnr mtart matkl UP TO 20 ROWS
*    FROM mara
*    INTO TABLE t_mara.
*ENDFORM.                    "zf_read_mara

**&---------------------------------------------------------------------*
**&      Form  zf_read_mara
**&---------------------------------------------------------------------*
**       text
**----------------------------------------------------------------------*
*FORM zf_read_mara.
*  SELECT a~matnr a~mtart a~matkl b~maktx UP TO 20 ROWS
*    FROM mara AS a
*    INNER JOIN makt AS b ON b~matnr EQ a~matnr
*    INTO TABLE t_mara
*    WHERE b~spras EQ 'EN'.
*ENDFORM.                    "zf_read_mara

**&---------------------------------------------------------------------*
**&      Form  zf_read_mara
**&---------------------------------------------------------------------*
**       text
**----------------------------------------------------------------------*
*FORM zf_read_mara.
*  SELECT a~matnr a~mtart a~matkl b~maktx UP TO 20 ROWS
*    FROM mara AS a
*    LEFT OUTER JOIN makt AS b ON b~matnr EQ a~matnr AND b~spras EQ 'EN'
*    INTO TABLE t_mara.
*ENDFORM.                    "zf_read_mara

**&---------------------------------------------------------------------*
**&      Form  zf_read_makt
**&---------------------------------------------------------------------*
**       text
**----------------------------------------------------------------------*
*FORM zf_read_makt.
*  SELECT matnr spras maktx
*    FROM makt
*    INTO TABLE t_makt
*    FOR ALL ENTRIES IN t_mara
*    WHERE matnr EQ t_mara-matnr
*      AND spras EQ sy-langu.
*ENDFORM.                    "zf_read_makt
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
